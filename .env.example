# FlexiCAD Designer Environment Variables
# Copy this file to .env and fill in your actual values
# For Netlify deployment, set these in your Netlify dashboard under Site settings > Environment variables

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/[your-project]/settings/api

# Your Supabase project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon/public key (safe to expose in frontend)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key

# Supabase service role key (KEEP SECRET - server-side only)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key

# =============================================================================
# STRIPE CONFIGURATION  
# =============================================================================
# Get these from: https://dashboard.stripe.com/apikeys

# Stripe secret key (KEEP SECRET - server-side only)
STRIPE_SECRET_KEY=sk_test_your-secret-key-here

# Stripe publishable key (safe to expose in frontend) 
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here

# Stripe webhook endpoint secret (for webhook signature verification)
# Get this from: https://dashboard.stripe.com/webhooks/[webhook-endpoint]
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Your deployed site URL (automatically set by Netlify)
URL=https://your-site-name.netlify.app

# Node environment (automatically set by Netlify)
NODE_ENV=production

# =============================================================================
# OPTIONAL: EMAIL CONFIGURATION (if implementing welcome emails)
# =============================================================================
# SENDGRID_API_KEY=your-sendgrid-api-key
# FROM_EMAIL=noreply@yoursite.com

# =============================================================================
# SETUP INSTRUCTIONS:
# =============================================================================
# 
# 1. SUPABASE SETUP:
#    - Go to https://supabase.com and create a new project
#    - Go to Settings > API to get your URL and keys
#    - Run the database schema SQL provided in the documentation
#
# 2. STRIPE SETUP:
#    - Go to https://stripe.com and create an account
#    - Go to Developers > API Keys to get your keys
#    - Set up webhook endpoint pointing to: https://your-site.netlify.app/.netlify/functions/stripe-webhook
#    - Subscribe to these events: checkout.session.completed, customer.subscription.updated, customer.subscription.deleted
#
# 3. NETLIFY DEPLOYMENT:
#    - Connect your GitHub repo to Netlify
#    - Set all environment variables in Site settings > Environment variables
#    - Deploy the site
#
# 4. TESTING:
#    - Use Stripe test cards: 4242 4242 4242 4242
#    - Test the full registration → payment → webhook → login flow
#    - Verify user accounts are created in Supabase after payment
#
# =============================================================================